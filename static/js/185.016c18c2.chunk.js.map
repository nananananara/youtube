{"version":3,"file":"static/js/185.016c18c2.chunk.js","mappings":"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","sources":["components/detail.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useParams ,useLocation} from 'react-router-dom';\n\nfunction Detail(props) {\n    let location = useLocation ();\n    let locationPath = location.pathname;\n    let [url,setUrl] = useState();\n\n    const API = process.env.REACT_APP_YOUTUBE_API_KEY;\n    let history = useHistory();\n    let { param } = useParams();\n    let {chParam} = useParams();\n    let [view,setView] = useState();\n    let [chnnelInfo,setChnnelInfo] = useState();\n    let [comment,setComment] = useState();\n    let [list,setList] = useState();\n    \n    const axiosDataDetail = async (api, state)=> {\n        await axios.get(api)\n          .then((result)=>{\n            state(result.data.items);\n            //console.log(result.data.items);\n          })\n          .catch(()=>{\n            console.log(\"실패\");\n          })\n    };\n\n    useEffect(()=>{\n        const api = `https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&id=${param}&key=${API}`\n        const channelApi = `https://www.googleapis.com/youtube/v3/channels?part=snippet&part=statistics&id=${chParam}&key=${API}`;\n        const commntApi = `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&order=relevance&videoId=${param}&key=${API}`\n        const listApi = `https://www.googleapis.com/youtube/v3/activities?part=snippet,contentDetails&channelId=${chParam}&maxResults=30&key=${API}`\n        \n        axiosDataDetail(api,setView);\n        axiosDataDetail(channelApi,setChnnelInfo);\n        axiosDataDetail(commntApi,setComment);\n        axiosDataDetail(listApi,setList);\n\n    },[])\n\n    useEffect(()=>{\n        window.scrollTo(0,0);\n        const api = `https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&id=${param}&key=${API}`\n        const channelApi = `https://www.googleapis.com/youtube/v3/channels?part=snippet&part=statistics&id=${chParam}&key=${API}`;\n        const commntApi = `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&order=relevance&videoId=${param}&key=${API}`\n        const listApi = `https://www.googleapis.com/youtube/v3/activities?part=snippet,contentDetails&channelId=${chParam}&maxResults=30&key=${API}`\n        \n        axiosDataDetail(api,setView);\n        axiosDataDetail(channelApi,setChnnelInfo);\n        axiosDataDetail(commntApi,setComment);\n        axiosDataDetail(listApi,setList);\n    },[locationPath])\n   \n    let viewCount = ()=> {\n        let viewnum = view[0].statistics.viewCount;\n        let viewnumInfo = Number(viewnum).toLocaleString();\n        return viewnumInfo\n    }\n\n    let date = ()=> {\n        let viewDate = view[0].snippet.publishedAt;\n        return viewDate.substring(0,10)\n    }\n\n    let commentCount = ()=> {\n        let viewnum = view[0].statistics.commentCount;\n        let viewnumInfo = Number(viewnum).toLocaleString();\n        return viewnumInfo\n    }\n\n    let likeCount = (i)=> {\n        let viewnum = comment[i].snippet.topLevelComment.snippet.likeCount;\n        let viewnumInfo = Number(viewnum).toLocaleString();\n        return viewnumInfo\n    }\n\n    let [more,setMore] = useState('false');\n\n    return (\n        <div className='detail layout'>\n            \n        {\n            view === undefined\n            ? null\n            :\n            <>\n            <div className='detail-left'>\n                <iframe \n                    src={`https://www.youtube.com/embed/${view[0].id}`} \n                    title=\"YouTube video player\" \n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen\n                ></iframe>\n                <div className=\"info\">\n                    <strong>{view[0].snippet.title}</strong>\n                    <p>\n                        <span>조회수 {viewCount()}회</span>\n                        <span>{date()}</span>\n                    </p>\n                </div>\n\n                <div className=\"channel\">\n                    <div className=\"thumb\">\n                        {\n                            chnnelInfo === undefined\n                            ? null\n                            : <img src={chnnelInfo[0].snippet.thumbnails.default.url} alt={view[0].snippet.channelTitle} />\n                        }\n                    </div>\n                    <strong>{view[0].snippet.channelTitle}</strong>\n                    <div className={`content ${more===true? 'moreActive' : 'more'}`}> \n                        <pre className='description'>{view[0].snippet.description}</pre>\n                    </div>\n                    <button onClick={()=>{setMore(!more)}}>\n                        {\n                            more === true\n                            ? '간략히'\n                            : '더보기'\n                        }\n                    </button>\n                    \n                    \n                </div>\n\n                <div className=\"comment\">\n                    <div className=\"tit\">\n                        댓글\n                        {\n                            view === undefined\n                            ? null\n                            :<span> {commentCount()}개</span>\n                        }\n                    </div>\n                    <ul>\n                        {\n                            comment === undefined\n                            ? null\n                            :comment.map((item,i)=>{\n                                return(\n                                    <li key={item.id}>\n                                        <img src={item.snippet.topLevelComment.snippet.authorProfileImageUrl} alt=\"\" />\n                                        <strong>\n                                            {item.snippet.topLevelComment.snippet.authorDisplayName}\n                                            <span>{props.timeForToday(item.snippet.topLevelComment.snippet.publishedAt)}</span>\n                                        </strong>\n                                        <pre>{item.snippet.topLevelComment.snippet.textOriginal}</pre>\n                                        <p>\n                                            <i className=\"xi-thumbs-up\"></i>\n                                            {likeCount(i)}\n                                        </p>\n                                    </li>\n                                )\n                            })\n\n                        }\n                    </ul>\n                </div>\n            </div>\n            \n            <div className='detail-right'>\n                <div className=\"videoList\">\n                    {\n                        list === undefined\n                        ? null\n                        :\n                        <ul>\n                            {list.map((item,i)=>{\n                                return(\n                                <li key={item.contentDetails.upload.videoId}>\n                                    <Link to={\"/detail/\"+item.contentDetails.upload.videoId+\"/\"+item.snippet.channelId}>\n                                    <div className=\"thumb\">\n                                        <span><i className=\"xi-play\"></i> 재생</span>\n                                        <img src={item.snippet.thumbnails.medium.url} alt={item.snippet.title} />\n                                    </div>\n                                    <div className=\"info\">\n                                        <strong>{item.snippet.title}</strong>\n                                        <p>{item.snippet.channelTitle}</p>\n                                        <p>{props.timeForToday(item.snippet.publishedAt)}</p>\n                                    </div>\n                                    </Link>\n                                </li>\n                                )\n                            })}\n                            \n                        </ul>  \n                    }\n                </div>\n            \n            </div>   \n            </>\n        }\n        <div className=\"btn\">\n            <Link to=\"/\">메인으로 이동</Link>\n        </div>\n        </div>\n    );\n}\n\nexport default Detail;\n\n\n"],"names":["props","locationPath","useLocation","pathname","useState","API","process","param","useHistory","useParams","chParam","view","setView","chnnelInfo","setChnnelInfo","comment","setComment","list","setList","axiosDataDetail","api","state","axios","then","result","data","items","catch","console","log","useEffect","channelApi","commntApi","listApi","window","scrollTo","likeCount","i","viewnum","snippet","topLevelComment","Number","toLocaleString","more","setMore","className","undefined","src","id","title","allow","allowFullScreen","statistics","viewCount","publishedAt","substring","thumbnails","default","url","alt","channelTitle","description","onClick","commentCount","map","item","authorProfileImageUrl","authorDisplayName","timeForToday","textOriginal","to","contentDetails","upload","videoId","channelId","medium"],"sourceRoot":""}